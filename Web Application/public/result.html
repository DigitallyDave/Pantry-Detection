<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Results Page</title>
    <link rel = "stylesheet" href = "./style/styles.css">
    <link rel = "stylesheet" href = "./style/recipes.css">
</head>
<body>
    <nav>
        <ul>
            <li>
                <p id="about"><a href="about.html">About</a></p>
            </li>
            <li><a href="index.html"><img src="images/logo.png" id="logo"></a></li>
            <li>
                <div id="btns">
                    <button id="loginButton">Log in</button>
                    <a href="signUp.html" id=result>
                        <button id="sign-up">Sign-Up</button>
                    </a>
                </div>
            </li>
        </ul>
    </nav>
    <div class = "main">
        <div id = 'left'>
            <div id = "carousel-container" display = hidden>
                <div class = "carousel">
                    <div class = "carousel-item" style = "display: block"><img src = "images/carousel-01.svg"></div>
                    <div class = "carousel-item"><img src = "images/carousel-02.svg"></div>
                    <div class = "carousel-item"><img src = "images/carousel-03.svg"></div>
                    <div class = "carousel-item"><img src = "images/carousel-04.svg"></div>
                </div>
                <div id = "text-box">
                    <div id = "loading-text"></div>
                </div>
            </div>
        </div>
        <div id = 'right' style = "display: none; margin-top: 100px; margin-left: 75px">
            <img id="annotated_frame" src="" style="left: -13%; margin-top: 70px">
            <div id = "recipeImages">
            </div>
            <div id = "directions">
            </div>
            <div id = "recipeContainer">
                <h2>Recipes</h2>
                <div id = "recipes"></div>
            </div>
            <div id = "ingredientsContainer">
                <h2>Here's what we found!</h2>
                <div id = "ingredients"></div>
            </div>
        </div>
    </div>
    <button id = 'runProcessButton' onClick = 'predict()' style = "display: none">Run Script</button>
    <div id = 'outputContainer'></div>
    <script src = "scripts/result.js"></script>
    <script src = "scripts/index.js"></script>
    <script type = "module" src = "scripts/recipes.js"></script>
    <script>
        function checkAndDisplaySpecialElement() {
        const container = document.getElementById('recipeImages');
        const elements = container.children;
        let allNone = true;
        console.log(elements);
        // Check if all elements have display set to "none"
        for (let i = 0; i < elements.length; i++) {
            if (elements[i].style.display !== "none") {
                allNone = false;
                break;
            }
        }

        // If all elements have display set to "none", set the special element to "block"
        if (allNone) {
            const specialElement = document.getElementById('annotated_frame');
            if (specialElement) {
                specialElement.style.display = "block";
            } else {
                console.error("Special element not found.");
            }
        } else {
            const specialElement = document.getElementById("annotated_frame");
            specialElement.style.display = "none";
        }
        }
        const container = document.getElementById('recipeImages');
        const elements = container.children;

        // Attach click event listeners to each element
        for (let i = 0; i < elements.length; i++) {
            elements[i].addEventListener('click', checkAndDisplaySpecialElement);
        }
    </script>
</body>
</html>